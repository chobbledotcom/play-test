<%# Mark as Complete Section - dynamically updates via Turbo %>
<%= turbo_frame_tag "mark_complete_section_#{@inspection.id}" do %>
  <div id="mark-as-complete">
    <h2><%= t("assessments.incomplete_fields.overall") %></h2>
    <%= render 'shared/incomplete_fields',
      object: @inspection,
      object_type: 'inspection',
      description_key: 'assessments.incomplete_fields.description' %>
    <% if @inspection.incomplete_fields.empty? %>
      <%= button_to t('inspections.buttons.mark_complete'),
        complete_inspection_path(@inspection),
        method: :patch,
        data: {
          turbo_confirm: t('inspections.messages.mark_complete_confirm'),
          turbo_frame: "_top"
        } %>
    <% end %>
  </div>
<% end %>
