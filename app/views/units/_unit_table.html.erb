<div class="table-list units-list">
  <!-- Header row -->
  <div class="table-list-header">
    <%= render 'shared/table_column', field: :photo, model: :units, header: true %>
    <%= render 'shared/table_column', field: :id, model: :units, header: true %>
    <%= render 'shared/table_column', field: :name, model: :units, header: true %>
    <%= render 'shared/table_column', field: :manufacturer, model: :units, header: true %>
    <%= render 'shared/table_column', field: :serial, model: :units, header: true %>
  </div>

  <!-- Data rows -->
  <ul class="table-list-items">
    <% unit.each do |item| %>
      <li>
        <%= link_to item, class: "table-list-link" do %>
          <%= render 'shared/table_column', field: :photo, model: :units do %>
            <% if item.photo.attached? %>
              <%= render 'shared/image',
                  image: item.photo,
                  size: :thumbnail,
                  alt: "#{item.name} photo" %>
            <% else %>
              <%= image_tag "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Crect width='60' height='60' fill='%23f0f0f0'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%23999' font-family='system-ui' font-size='10'%3ENo Photo%3C/text%3E%3C/svg%3E",
                  alt: t('units.messages.no_photo'),
                  width: 60,
                  height: 60 %>
            <% end %>
          <% end %>
          <%= render 'shared/table_column', field: :id, model: :units, item: item %>
          <%= render 'shared/table_column', field: :name, model: :units, item: item %>
          <%= render 'shared/table_column', field: :manufacturer, model: :units, item: item %>
          <%= render 'shared/table_column', field: :serial, model: :units, item: item %>
        <% end %>
      </li>
    <% end %>
  </ul>
</div>
