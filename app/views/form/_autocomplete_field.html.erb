<%
  setup = form_field_setup(field, local_assigns)

  field_options = {
    required: field_options&.dig(:required),
    list: "#{field}_autocomplete_#{setup[:form_object].object.object_id}",
    value: setup[:value]
  }
%>

<%= setup[:form_object].label field, setup[:field_label] %>
<%= setup[:form_object].text_field field, field_options %>
<datalist id="<%= field_options[:list] %>">
  <% options&.each do |option| %>
    <option value="<%= option %>"></option>
  <% end %>
</datalist>
